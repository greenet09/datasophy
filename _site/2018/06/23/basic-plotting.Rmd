
---
layout: post
title: "This is a test post for my R blog"
date: 2016-12-01
categories: 
tags: 
---


```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)

library(ggplot2)
library(dplyr)
library(reshape2)
library(tidyverse)

#data() #GET LIST OF BUILT IN DATA SETS 

#THIS FILE IS FOR TESTING OUT NEW TRICKS AND TIPS
#List of tricks
#1. melting/gathering a DF into 2 columns then facetting and looking at distribution. scales='free'
#2. Missing value visuals with VIM package and matrixplot()
#require("VIM")
#matrixplot(Cars93, sortby = "Weight", cex.axis=0.6)
#3. Missing value visuals with m <- robCompositions::missPatterns(Cars93)
#4. AGGREGATE() FUNCTION. ALSO CAN USE methods(aggregate)



typeof(mtcars) #it's a list

df_cars <- as.data.frame(mtcars) #convert to DF
head(df_cars, 6) #view first 6 lines


#USE MELT() FUNCTION TO TURN INTO 2 COLUMNS. ONE IS THE VARIABLE AND THE OTHER IS VALUE. LONG DF NOW.
require(reshape2)
melt.cars <- melt(df_cars)
head(melt.cars, 15)

#NOW YOUCAN VIEW DISTRIBUTIONS OF EACH VALUE. Use geom_histogram or geom_density. or stat_density
ggplot(data = melt.cars, aes(x = value)) + 
  stat_density()+
  facet_wrap(~variable, scales = "free")

#COMPARE WITH DPLYR() GATHER() AND SPREAD(). BUT DEFAULT NAMES ARE col1 "key" and col2 "value"
gath.cars <- gather(df_cars)
head(gath.cars)

#PLOT USING KEY AS FACETTING VARIABLE
ggplot(data = gath.cars, aes(x = value)) + 
  stat_density()+
  facet_wrap(~key, scales = "free")

#CREATE MISSING VALUES PLOT
require("VIM")
car_df <- as.data.frame(mtcars)
matrixplot(car_df, sortby = "qsec", cex.axis=0.9)

#m <- robCompositions::missPatterns(car_df) # Analysis of the missing or the zero patterns structure of a data set.
#lapply(m, length)
#m

#AGGREGATE FUNCTION
mpg_by_cyl <- aggregate(car_df[, c("mpg", 'qsec')], by =
            list(car_df$cyl), mean)
```

```{r}
plot(mpg_by_cyl)
```




<!DOCTYPE html>
<html lang="en"><head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1"><!-- Begin Jekyll SEO tag v2.5.0 -->
<title>Data Analysis: The US Death Penalty Visualized | A Philosopher’s Guide to Data Science</title>
<meta name="generator" content="Jekyll v3.8.3" />
<meta property="og:title" content="Data Analysis: The US Death Penalty Visualized" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="Analyzing state executions" />
<meta property="og:description" content="Analyzing state executions" />
<link rel="canonical" href="http://localhost:4000/datasophy/2018/07/25/executions.html" />
<meta property="og:url" content="http://localhost:4000/datasophy/2018/07/25/executions.html" />
<meta property="og:site_name" content="A Philosopher’s Guide to Data Science" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2018-07-25T00:00:00+08:00" />
<script type="application/ld+json">
{"mainEntityOfPage":{"@type":"WebPage","@id":"http://localhost:4000/datasophy/2018/07/25/executions.html"},"url":"http://localhost:4000/datasophy/2018/07/25/executions.html","description":"Analyzing state executions","headline":"Data Analysis: The US Death Penalty Visualized","@type":"BlogPosting","dateModified":"2018-07-25T00:00:00+08:00","datePublished":"2018-07-25T00:00:00+08:00","@context":"http://schema.org"}</script>
<!-- End Jekyll SEO tag -->
<link rel="stylesheet" href="/datasophy/assets/main.css"><link type="application/atom+xml" rel="alternate" href="http://localhost:4000/datasophy/feed.xml" title="A Philosopher's Guide to Data Science" /></head>
<body><header class="site-header" role="banner">

  <div class="wrapper"><a class="site-title" rel="author" href="/datasophy/">A Philosopher&#39;s Guide to Data Science</a><nav class="site-nav">
        <input type="checkbox" id="nav-trigger" class="nav-trigger" />
        <label for="nav-trigger">
          <span class="menu-icon">
            <svg viewBox="0 0 18 15" width="18px" height="15px">
              <path d="M18,1.484c0,0.82-0.665,1.484-1.484,1.484H1.484C0.665,2.969,0,2.304,0,1.484l0,0C0,0.665,0.665,0,1.484,0 h15.032C17.335,0,18,0.665,18,1.484L18,1.484z M18,7.516C18,8.335,17.335,9,16.516,9H1.484C0.665,9,0,8.335,0,7.516l0,0 c0-0.82,0.665-1.484,1.484-1.484h15.032C17.335,6.031,18,6.696,18,7.516L18,7.516z M18,13.516C18,14.335,17.335,15,16.516,15H1.484 C0.665,15,0,14.335,0,13.516l0,0c0-0.82,0.665-1.483,1.484-1.483h15.032C17.335,12.031,18,12.695,18,13.516L18,13.516z"/>
            </svg>
          </span>
        </label>

        <div class="trigger"><a class="page-link" href="/datasophy/about/">About</a><a class="page-link" href="/datasophy/cv/">CV</a><a class="page-link" href="/datasophy/projects/">Projects</a><a class="page-link" href="/datasophy/random/">Random</a><a class="page-link" href="/datasophy/tutorials/">Tutorials</a><a class="page-link" href="/datasophy/writing/">Writing</a></div>
      </nav></div>
</header>
<main class="page-content" aria-label="Content">
      <div class="wrapper">
        <article class="post h-entry" itemscope itemtype="http://schema.org/BlogPosting">

  <header class="post-header">
    <h1 class="post-title p-name" itemprop="name headline">Data Analysis: The US Death Penalty Visualized</h1>
    <p class="post-meta">
      <time class="dt-published" datetime="2018-07-25T00:00:00+08:00" itemprop="datePublished">Jul 25, 2018
      </time></p>
  </header>

  <div class="post-content e-content" itemprop="articleBody">
    <h1 id="analyzing-state-executions">Analyzing state executions</h1>

<p>This blog post was inspired by the extremely moving BBC documentary “Fourteen Days in May.”  To learn more about what it is like living on death row as a young black man in the South, you can view the full doc below. Bring some tissues.</p>

<iframe src="https://youtu.be/KdcIrXYZelk" width="400" height="300" frameborder="0" allowfullscreen="true"> </iframe>

<p>In case you weren’t aware, there was a brief period of about four years when the US Supreme Court, in Furman v. Georgia, banned the death penalty in 1972. It remained unconstitutional until 1976 and the case of Gregg v. Georgia, which then reinstated it.</p>

<p>Since then, various revisions to federal policy have been made through the courts, such as banning the execution of mentally insane persons in 1986’s Ford v. Wainwright case and the somewhat controversial (to me at least) decision of McCleskey v. Kemp in 1987 that stated that differences in rates of execution by racial group do not constitute a violation of one’s Constitutional rights to “equal protection of the law” unless one can prove that one was discriminated against personally.</p>

<p>Really? If it turned out that 90% of all prisoners executed were black (which make up about 13% of the general population), you’re telling me there isn’t a systematic problem with the legal system? At which point do we say that certain racial disparities in sentencing and punishment are the result of systematic discrimination? The Supreme Court’s decision may be well-grounded legally-speaking, but sets a dangerous precedent for corruption and bias in sentencing.</p>

<p>With these developments in mind, particularly the racial aspect to the death penalty, I’d like to analyze this dataset. You can find it at
<a href="https://deathpenaltyinfo.org">https://deathpenaltyinfo.org</a></p>

<div class="language-r highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">library</span><span class="p">(</span><span class="n">tidyverse</span><span class="p">)</span><span class="w">
</span><span class="n">library</span><span class="p">(</span><span class="n">lubridate</span><span class="p">)</span><span class="w">
</span><span class="n">library</span><span class="p">(</span><span class="n">ggrepel</span><span class="p">)</span><span class="w">
</span><span class="n">library</span><span class="p">(</span><span class="n">broom</span><span class="p">)</span><span class="w">
</span><span class="n">library</span><span class="p">(</span><span class="n">treemap</span><span class="p">)</span><span class="w">
</span><span class="n">library</span><span class="p">(</span><span class="n">rvest</span><span class="p">)</span><span class="w">
</span><span class="n">library</span><span class="p">(</span><span class="n">gridExtra</span><span class="p">)</span><span class="w">
</span><span class="n">library</span><span class="p">(</span><span class="n">RColorBrewer</span><span class="p">)</span><span class="w">
</span><span class="n">library</span><span class="p">(</span><span class="n">fiftystater</span><span class="p">)</span><span class="w">
</span><span class="n">options</span><span class="p">(</span><span class="n">scipen</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">999</span><span class="p">)</span><span class="w"> 
</span></code></pre></div></div>

<p>Let’s read in our data. The CSV file contains rows 1479 cases of execution and 14 columns. Some dates appear to be missing so we’ll need to fix that or omit them. Here will will simply omit them.</p>

<p>We also need to convert many columns to factors for better plotting. We’ll use mutate_at() for that.</p>

<div class="language-r highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">df</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">read.csv</span><span class="p">(</span><span class="s1">'execution_database.csv'</span><span class="p">,</span><span class="w"> </span><span class="n">stringsAsFactors</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">F</span><span class="p">)</span><span class="w">
</span><span class="n">missing</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="nf">as.numeric</span><span class="p">(</span><span class="n">rownames</span><span class="p">(</span><span class="n">df</span><span class="p">[</span><span class="n">df</span><span class="o">$</span><span class="n">Date</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="s1">''</span><span class="p">,]))</span><span class="w">
</span><span class="n">df</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">df</span><span class="p">[</span><span class="o">-</span><span class="n">missing</span><span class="p">,]</span><span class="w">

</span><span class="n">df</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">df</span><span class="w"> </span><span class="o">%&gt;%</span><span class="w">
  </span><span class="n">mutate_at</span><span class="p">(</span><span class="n">vars</span><span class="p">(</span><span class="m">4</span><span class="p">,</span><span class="m">5</span><span class="p">,</span><span class="m">7</span><span class="o">:</span><span class="m">14</span><span class="p">),</span><span class="w"> </span><span class="n">funs</span><span class="p">(</span><span class="n">as.factor</span><span class="p">(</span><span class="n">.</span><span class="p">)))</span><span class="o">%&gt;%</span><span class="w">
  </span><span class="n">mutate_at</span><span class="p">(</span><span class="n">vars</span><span class="p">(</span><span class="m">1</span><span class="p">),</span><span class="w"> </span><span class="n">funs</span><span class="p">(</span><span class="n">mdy</span><span class="p">(</span><span class="n">.</span><span class="p">)))</span><span class="w">

</span><span class="n">glimpse</span><span class="p">(</span><span class="n">df</span><span class="p">)</span><span class="w">
</span></code></pre></div></div>
<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>## Observations: 1,479
## Variables: 14
## $ Date                           &lt;date&gt; 1986-01-10, 1985-01-11, 1997-0...
## $ Name                           &lt;chr&gt; "James Roach", "Joseph Shaw", "...
## $ Age                            &lt;int&gt; 25, 29, 49, 47, 31, 26, 48, 31,...
## $ Sex                            &lt;fct&gt; m, m, m, m, m, m, m, m, m, m, m...
## $ Race                           &lt;fct&gt; White, White, Latino, White, Wh...
## $ Number...Race...Sex.of.Victims &lt;chr&gt; "1 White Male(s)1 White Female(...
## $ State                          &lt;fct&gt; SC, SC, AR, AR, ID, VA, TX, WA,...
## $ Region                         &lt;fct&gt; S, S, S, S, W, S, S, W, S, M, S...
## $ Method                         &lt;fct&gt; Electrocution, Electrocution, L...
## $ Juvenile                       &lt;fct&gt; Yes, No, No, No, No, Yes, No, N...
## $ Federal                        &lt;fct&gt; No, No, No, No, No, No, No, No,...
## $ Volunteer                      &lt;fct&gt; No, No, No, No, Yes, No, No, Ye...
## $ Foreign.National               &lt;fct&gt; No, No, No, No, No, No, No, No,...
## $ County                         &lt;fct&gt; Richland, Richland, Logan, Neva...
</code></pre></div></div>

<h1 id="basic-visual-overview-of-data">Basic Visual Overview of Data</h1>

<div class="language-r highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">#grid.arrange(arrangeGrob(p1, p2))</span><span class="w">
</span><span class="c1">#The analysis</span><span class="w">
</span><span class="n">gend</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">df</span><span class="w"> </span><span class="o">%&gt;%</span><span class="w">
  </span><span class="n">group_by</span><span class="p">(</span><span class="n">Sex</span><span class="p">)</span><span class="o">%&gt;%</span><span class="w">
  </span><span class="n">summarize</span><span class="p">(</span><span class="n">n</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">n</span><span class="p">())</span><span class="o">%&gt;%</span><span class="w">
  </span><span class="n">mutate</span><span class="p">(</span><span class="n">prop</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">n</span><span class="o">/</span><span class="nf">sum</span><span class="p">(</span><span class="n">n</span><span class="p">))</span><span class="o">%&gt;%</span><span class="w">
  </span><span class="n">ggplot</span><span class="p">(</span><span class="n">aes</span><span class="p">(</span><span class="n">Sex</span><span class="p">,</span><span class="w"> </span><span class="n">prop</span><span class="p">,</span><span class="w"> </span><span class="n">fill</span><span class="o">=</span><span class="n">Sex</span><span class="p">))</span><span class="o">+</span><span class="w">
  </span><span class="n">geom_col</span><span class="p">()</span><span class="o">+</span><span class="w">
  </span><span class="n">guides</span><span class="p">(</span><span class="n">fill</span><span class="o">=</span><span class="kc">FALSE</span><span class="p">)</span><span class="o">+</span><span class="w">
  </span><span class="n">theme_minimal</span><span class="p">()</span><span class="o">+</span><span class="w">
  </span><span class="n">labs</span><span class="p">(</span><span class="n">title</span><span class="o">=</span><span class="s1">'Gender'</span><span class="p">)</span><span class="w">

</span><span class="n">state</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">df</span><span class="w"> </span><span class="o">%&gt;%</span><span class="w">
  </span><span class="n">group_by</span><span class="p">(</span><span class="n">State</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">fct_lump</span><span class="p">(</span><span class="n">State</span><span class="p">,</span><span class="w"> </span><span class="n">n</span><span class="o">=</span><span class="m">10</span><span class="p">))</span><span class="o">%&gt;%</span><span class="w">
  </span><span class="n">summarize</span><span class="p">(</span><span class="n">n</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">n</span><span class="p">())</span><span class="o">%&gt;%</span><span class="w">
  </span><span class="n">mutate</span><span class="p">(</span><span class="n">prop</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">n</span><span class="o">/</span><span class="nf">sum</span><span class="p">(</span><span class="n">n</span><span class="p">))</span><span class="o">%&gt;%</span><span class="w">
  </span><span class="n">ggplot</span><span class="p">(</span><span class="n">aes</span><span class="p">(</span><span class="n">State</span><span class="p">,</span><span class="w"> </span><span class="n">prop</span><span class="p">,</span><span class="w"> </span><span class="n">fill</span><span class="o">=</span><span class="n">State</span><span class="p">))</span><span class="o">+</span><span class="w">
  </span><span class="n">geom_col</span><span class="p">()</span><span class="o">+</span><span class="w">
  </span><span class="n">guides</span><span class="p">(</span><span class="n">fill</span><span class="o">=</span><span class="kc">FALSE</span><span class="p">)</span><span class="o">+</span><span class="w">
  </span><span class="n">theme_minimal</span><span class="p">()</span><span class="o">+</span><span class="w">
  </span><span class="n">theme</span><span class="p">(</span><span class="n">axis.text.x</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">element_text</span><span class="p">(</span><span class="n">angle</span><span class="o">=</span><span class="m">90</span><span class="p">))</span><span class="o">+</span><span class="w">
  </span><span class="n">labs</span><span class="p">(</span><span class="n">title</span><span class="o">=</span><span class="s1">'States'</span><span class="p">)</span><span class="w">

</span><span class="n">methods</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">df</span><span class="w"> </span><span class="o">%&gt;%</span><span class="w">
  </span><span class="n">group_by</span><span class="p">(</span><span class="n">Method</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">fct_lump</span><span class="p">(</span><span class="n">Method</span><span class="p">,</span><span class="w"> </span><span class="n">n</span><span class="o">=</span><span class="m">5</span><span class="p">))</span><span class="o">%&gt;%</span><span class="w">
  </span><span class="n">summarize</span><span class="p">(</span><span class="n">n</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">n</span><span class="p">())</span><span class="o">%&gt;%</span><span class="w">
  </span><span class="n">mutate</span><span class="p">(</span><span class="n">prop</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">n</span><span class="o">/</span><span class="nf">sum</span><span class="p">(</span><span class="n">n</span><span class="p">))</span><span class="o">%&gt;%</span><span class="w">
  </span><span class="n">ggplot</span><span class="p">(</span><span class="n">aes</span><span class="p">(</span><span class="n">Method</span><span class="p">,</span><span class="w"> </span><span class="n">prop</span><span class="p">,</span><span class="w"> </span><span class="n">fill</span><span class="o">=</span><span class="n">Method</span><span class="p">))</span><span class="o">+</span><span class="w">
  </span><span class="n">geom_col</span><span class="p">()</span><span class="o">+</span><span class="w">
  </span><span class="n">coord_flip</span><span class="p">()</span><span class="o">+</span><span class="w">
  </span><span class="n">guides</span><span class="p">(</span><span class="n">fill</span><span class="o">=</span><span class="kc">FALSE</span><span class="p">)</span><span class="o">+</span><span class="w">
  </span><span class="n">theme_minimal</span><span class="p">()</span><span class="o">+</span><span class="w">
  </span><span class="n">labs</span><span class="p">(</span><span class="n">title</span><span class="o">=</span><span class="s1">'Methods'</span><span class="p">)</span><span class="w">

</span><span class="n">races</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">df</span><span class="w"> </span><span class="o">%&gt;%</span><span class="w">
  </span><span class="n">group_by</span><span class="p">(</span><span class="n">Races</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">fct_lump</span><span class="p">(</span><span class="n">Race</span><span class="p">,</span><span class="w"> </span><span class="n">n</span><span class="o">=</span><span class="m">5</span><span class="p">))</span><span class="o">%&gt;%</span><span class="w">
  </span><span class="n">summarize</span><span class="p">(</span><span class="n">n</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">n</span><span class="p">())</span><span class="o">%&gt;%</span><span class="w">
  </span><span class="n">mutate</span><span class="p">(</span><span class="n">prop</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">n</span><span class="o">/</span><span class="nf">sum</span><span class="p">(</span><span class="n">n</span><span class="p">))</span><span class="o">%&gt;%</span><span class="w">
  </span><span class="n">ggplot</span><span class="p">(</span><span class="n">aes</span><span class="p">(</span><span class="n">Races</span><span class="p">,</span><span class="w"> </span><span class="n">prop</span><span class="p">,</span><span class="w"> </span><span class="n">fill</span><span class="o">=</span><span class="n">Races</span><span class="p">))</span><span class="o">+</span><span class="w">
  </span><span class="n">geom_col</span><span class="p">()</span><span class="o">+</span><span class="w">
  </span><span class="n">guides</span><span class="p">(</span><span class="n">fill</span><span class="o">=</span><span class="kc">FALSE</span><span class="p">)</span><span class="o">+</span><span class="w">
  </span><span class="n">coord_flip</span><span class="p">()</span><span class="o">+</span><span class="w">
  
  </span><span class="n">theme_minimal</span><span class="p">()</span><span class="o">+</span><span class="w">
  </span><span class="n">labs</span><span class="p">(</span><span class="n">title</span><span class="o">=</span><span class="s1">'Race'</span><span class="p">)</span><span class="w">

</span><span class="n">ages</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">df</span><span class="w"> </span><span class="o">%&gt;%</span><span class="w">
  </span><span class="n">ggplot</span><span class="p">(</span><span class="n">aes</span><span class="p">(</span><span class="n">Age</span><span class="p">,</span><span class="w"> </span><span class="n">fill</span><span class="o">=</span><span class="n">Race</span><span class="p">))</span><span class="o">+</span><span class="w">
  </span><span class="n">geom_density</span><span class="p">(</span><span class="n">alpha</span><span class="o">=</span><span class="m">.5</span><span class="p">)</span><span class="o">+</span><span class="w">
  </span><span class="n">theme_minimal</span><span class="p">()</span><span class="o">+</span><span class="w">
  </span><span class="n">guides</span><span class="p">(</span><span class="n">fill</span><span class="o">=</span><span class="kc">FALSE</span><span class="p">)</span><span class="o">+</span><span class="w">
  </span><span class="n">labs</span><span class="p">(</span><span class="n">title</span><span class="o">=</span><span class="s1">'Ages'</span><span class="p">)</span><span class="w">

</span><span class="n">yrs</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">df</span><span class="w"> </span><span class="o">%&gt;%</span><span class="w">
  </span><span class="n">mutate</span><span class="p">(</span><span class="n">yr</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nf">as.integer</span><span class="p">(</span><span class="n">str_sub</span><span class="p">(</span><span class="n">df</span><span class="o">$</span><span class="n">Date</span><span class="p">,</span><span class="w"> </span><span class="m">1</span><span class="p">,</span><span class="m">4</span><span class="p">)))</span><span class="o">%&gt;%</span><span class="w">
  </span><span class="n">ggplot</span><span class="p">(</span><span class="n">aes</span><span class="p">(</span><span class="n">yr</span><span class="p">,</span><span class="w"> </span><span class="n">fill</span><span class="o">=</span><span class="n">Region</span><span class="p">))</span><span class="o">+</span><span class="w">
  </span><span class="n">geom_density</span><span class="p">(</span><span class="n">alpha</span><span class="o">=</span><span class="m">.5</span><span class="p">)</span><span class="o">+</span><span class="w">
  </span><span class="n">theme_minimal</span><span class="p">()</span><span class="o">+</span><span class="w">
  </span><span class="n">theme</span><span class="p">(</span><span class="n">axis.text.x</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">element_text</span><span class="p">(</span><span class="n">angle</span><span class="o">=</span><span class="m">90</span><span class="p">))</span><span class="o">+</span><span class="w">
  </span><span class="n">labs</span><span class="p">(</span><span class="n">title</span><span class="o">=</span><span class="s1">'Years of Executions'</span><span class="p">)</span><span class="o">+</span><span class="w">
  </span><span class="n">guides</span><span class="p">(</span><span class="n">fill</span><span class="o">=</span><span class="kc">FALSE</span><span class="p">)</span><span class="o">+</span><span class="w">
  </span><span class="n">facet_wrap</span><span class="p">(</span><span class="o">~</span><span class="w"> </span><span class="n">Region</span><span class="p">)</span><span class="w">


</span><span class="n">grid.arrange</span><span class="p">(</span><span class="n">arrangeGrob</span><span class="p">(</span><span class="n">gend</span><span class="p">,</span><span class="w"> </span><span class="n">methods</span><span class="p">,</span><span class="w"> </span><span class="n">races</span><span class="p">,</span><span class="w"> </span><span class="n">ages</span><span class="p">,</span><span class="w"> </span><span class="n">state</span><span class="p">,</span><span class="w"> </span><span class="n">yrs</span><span class="p">,</span><span class="w"> </span><span class="n">ncol</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">3</span><span class="p">,</span><span class="w"> </span><span class="n">nrow</span><span class="o">=</span><span class="m">2</span><span class="p">))</span><span class="w">
</span></code></pre></div></div>

<p><img src="executions_files/figure-markdown_github/unnamed-chunk-3-1.png" alt="" /></p>

<p>We can see that about 99% of executed inmates are men. Most people are executed by lethal injection, though there are some places that electrocute inmates. Most of the people executed are white, though a sizeable portion–about 33%–are black. Most people are executed around the age of 40, for some reason. Texas by far outnumbers all other states as it makes up about 40% of all executions in the USA. And it appears as though executions peaked in all four regions around the year 2000 and have been declining since. That’s a good thing if you ask me.</p>

<p>Already we can see that the issue of racial bias is complicated: there is not an obviously disproportionate amount of minorities receiving the death penalty. We would likely need to investigate on the state level to find out.</p>

<h1 id="deeper-dive-into-ages-by-race-and-gender">Deeper Dive into Ages by Race and Gender</h1>

<p>Do males and females get executed at different ages? It’s difficult to say because only about 1% of the executed were female. But there does appear to be quite a difference in median age.</p>

<div class="language-r highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">med_age</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">df</span><span class="w"> </span><span class="o">%&gt;%</span><span class="w">
  </span><span class="n">group_by</span><span class="p">(</span><span class="n">Sex</span><span class="p">)</span><span class="o">%&gt;%</span><span class="w">
  </span><span class="n">summarize</span><span class="p">(</span><span class="n">cts</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">n</span><span class="p">(),</span><span class="w">
            </span><span class="n">med_age</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">median</span><span class="p">(</span><span class="n">Age</span><span class="p">,</span><span class="w"> </span><span class="n">na.rm</span><span class="o">=</span><span class="kc">TRUE</span><span class="p">))</span><span class="w">
  
</span><span class="n">plot_gender</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">df</span><span class="w"> </span><span class="o">%&gt;%</span><span class="w">
  </span><span class="n">group_by</span><span class="p">(</span><span class="n">Sex</span><span class="p">)</span><span class="o">%&gt;%</span><span class="w">
  </span><span class="n">ggplot</span><span class="p">(</span><span class="n">aes</span><span class="p">(</span><span class="n">Age</span><span class="p">,</span><span class="w"> </span><span class="n">fill</span><span class="o">=</span><span class="n">Sex</span><span class="p">))</span><span class="o">+</span><span class="w">
  </span><span class="n">geom_density</span><span class="p">(</span><span class="n">alpha</span><span class="o">=</span><span class="m">.5</span><span class="p">)</span><span class="w">

</span><span class="n">gend_plot</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">plot_gender</span><span class="w"> </span><span class="o">+</span><span class="w"> 
  </span><span class="n">geom_vline</span><span class="p">(</span><span class="n">xintercept</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">med_age</span><span class="o">$</span><span class="n">med_age</span><span class="p">[</span><span class="m">1</span><span class="p">],</span><span class="w"> </span><span class="n">data</span><span class="o">=</span><span class="n">med_age</span><span class="p">,</span><span class="w"> </span><span class="n">color</span><span class="o">=</span><span class="s1">'red'</span><span class="p">)</span><span class="o">+</span><span class="w">
  </span><span class="n">geom_vline</span><span class="p">(</span><span class="n">xintercept</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">med_age</span><span class="o">$</span><span class="n">med_age</span><span class="p">[</span><span class="m">2</span><span class="p">],</span><span class="w"> </span><span class="n">data</span><span class="o">=</span><span class="n">med_age</span><span class="p">,</span><span class="w"> </span><span class="n">color</span><span class="o">=</span><span class="s1">'blue'</span><span class="p">)</span><span class="o">+</span><span class="w">
  </span><span class="n">theme_minimal</span><span class="p">()</span><span class="o">+</span><span class="w">
  </span><span class="n">labs</span><span class="p">(</span><span class="n">title</span><span class="o">=</span><span class="s1">'Gender'</span><span class="p">)</span><span class="w">

</span><span class="c1">#And now black and white ages</span><span class="w">
</span><span class="n">med_age_race</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">df</span><span class="w"> </span><span class="o">%&gt;%</span><span class="w">
  </span><span class="n">group_by</span><span class="p">(</span><span class="n">Race</span><span class="p">)</span><span class="o">%&gt;%</span><span class="w">
  </span><span class="n">filter</span><span class="p">(</span><span class="n">Race</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="s1">'White'</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">Race</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="s1">'Black'</span><span class="p">)</span><span class="o">%&gt;%</span><span class="w">
  </span><span class="n">summarize</span><span class="p">(</span><span class="n">cts</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">n</span><span class="p">(),</span><span class="w">
            </span><span class="n">med_age</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">median</span><span class="p">(</span><span class="n">Age</span><span class="p">,</span><span class="w"> </span><span class="n">na.rm</span><span class="o">=</span><span class="kc">TRUE</span><span class="p">))</span><span class="w">
  
</span><span class="n">plot_races</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">df</span><span class="w"> </span><span class="o">%&gt;%</span><span class="w">
  </span><span class="n">group_by</span><span class="p">(</span><span class="n">Race</span><span class="p">)</span><span class="o">%&gt;%</span><span class="w">
  </span><span class="n">filter</span><span class="p">(</span><span class="n">Race</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="s1">'White'</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">Race</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="s1">'Black'</span><span class="p">)</span><span class="o">%&gt;%</span><span class="w">
  </span><span class="n">ggplot</span><span class="p">(</span><span class="n">aes</span><span class="p">(</span><span class="n">Age</span><span class="p">,</span><span class="w"> </span><span class="n">fill</span><span class="o">=</span><span class="n">Race</span><span class="p">))</span><span class="o">+</span><span class="w">
  </span><span class="n">geom_density</span><span class="p">(</span><span class="n">alpha</span><span class="o">=</span><span class="m">.5</span><span class="p">)</span><span class="w">

</span><span class="n">races_plot</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">plot_races</span><span class="w"> </span><span class="o">+</span><span class="w"> 
  </span><span class="n">geom_vline</span><span class="p">(</span><span class="n">xintercept</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">med_age_race</span><span class="o">$</span><span class="n">med_age</span><span class="p">[</span><span class="m">1</span><span class="p">],</span><span class="w"> </span><span class="n">data</span><span class="o">=</span><span class="n">med_age_race</span><span class="p">,</span><span class="w"> </span><span class="n">color</span><span class="o">=</span><span class="s1">'red'</span><span class="p">)</span><span class="o">+</span><span class="w">
  </span><span class="n">geom_vline</span><span class="p">(</span><span class="n">xintercept</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">med_age_race</span><span class="o">$</span><span class="n">med_age</span><span class="p">[</span><span class="m">2</span><span class="p">],</span><span class="w"> </span><span class="n">data</span><span class="o">=</span><span class="n">med_age_race</span><span class="p">,</span><span class="w"> </span><span class="n">color</span><span class="o">=</span><span class="s1">'blue'</span><span class="p">)</span><span class="o">+</span><span class="w">
  </span><span class="n">theme_minimal</span><span class="p">()</span><span class="o">+</span><span class="w">
  </span><span class="n">labs</span><span class="p">(</span><span class="n">title</span><span class="o">=</span><span class="s1">'Race'</span><span class="p">)</span><span class="w">

</span><span class="n">grid.arrange</span><span class="p">(</span><span class="n">arrangeGrob</span><span class="p">(</span><span class="n">gend_plot</span><span class="p">,</span><span class="w"> </span><span class="n">races_plot</span><span class="p">,</span><span class="w"> </span><span class="n">ncol</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">2</span><span class="p">,</span><span class="w"> </span><span class="n">nrow</span><span class="o">=</span><span class="m">1</span><span class="p">))</span><span class="w">
</span></code></pre></div></div>

<p><img src="executions_files/figure-markdown_github/unnamed-chunk-4-1.png" alt="" /></p>

<p>It appears as though whites are executed at a slighly older age than blacks. Why could this be? Could this be a statistical blip? In order to find out, let’s use bootstrap resampling in order to make an inference as to the population difference in median ages between blacks and whites who are executed.</p>

<p>We’ll resample the data with replacement to find a 95% confidence interval for the difference in medians. If the interval contains 0 then we can’t rule out the explanation that this observation was simply due to chance. In other words, if it doesn’t contain 0, then we can say with high confidence (95% confidence) that there really is a difference in ages between blacks and whites. If we can establish statistical significance, then we might decide to invest more time looking for possible causes.</p>

<h1 id="bootstrapping-the-median-difference-in-ages-for-blacks-and-whites">Bootstrapping the median difference in ages for blacks and whites</h1>

<p>Essentially we will be grouping by race, then sampling with replacement and then calculating the median of both groups, then finding the difference. We will do this 1000 times in order to generate a sampling distribution of differences in median ages, which would otherwise be very difficult to analytically compute (I’m not aware of any theoretical distribution that this statistic would follow).</p>

<div class="language-r highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">set.seed</span><span class="p">(</span><span class="m">1</span><span class="p">)</span><span class="w">
</span><span class="n">boot_meds</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="k">function</span><span class="p">(</span><span class="n">d</span><span class="p">){</span><span class="w">
  </span><span class="n">d</span><span class="w"> </span><span class="o">%&gt;%</span><span class="w">
    </span><span class="n">filter</span><span class="p">(</span><span class="n">Race</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="s1">'White'</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">Race</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="s1">'Black'</span><span class="p">)</span><span class="o">%&gt;%</span><span class="w">
    </span><span class="n">group_by</span><span class="p">(</span><span class="n">Race</span><span class="p">)</span><span class="o">%&gt;%</span><span class="w">
    </span><span class="n">sample_frac</span><span class="p">(</span><span class="m">1.0</span><span class="p">,</span><span class="w"> </span><span class="n">replace</span><span class="o">=</span><span class="kc">TRUE</span><span class="p">)</span><span class="o">%&gt;%</span><span class="w">
    </span><span class="n">summarize</span><span class="p">(</span><span class="n">m</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">median</span><span class="p">(</span><span class="n">Age</span><span class="p">))</span><span class="o">%&gt;%</span><span class="w">
    </span><span class="n">summarize</span><span class="p">(</span><span class="n">med_diff</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">m</span><span class="p">[</span><span class="n">Race</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="s1">'White'</span><span class="p">]</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">m</span><span class="p">[</span><span class="n">Race</span><span class="w"> </span><span class="o">==</span><span class="s1">'Black'</span><span class="p">])</span><span class="w">
</span><span class="p">}</span><span class="w">

</span><span class="c1">#take a stat and replicate it x times and get the 95% ci</span><span class="w">
</span><span class="n">replicate_medians</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="k">function</span><span class="p">(</span><span class="n">func</span><span class="p">,</span><span class="n">objs</span><span class="p">,</span><span class="w"> </span><span class="n">times</span><span class="o">=</span><span class="m">100</span><span class="p">){</span><span class="w">
  </span><span class="n">boots</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">unlist</span><span class="p">(</span><span class="n">replicate</span><span class="p">(</span><span class="n">times</span><span class="p">,</span><span class="w"> </span><span class="n">func</span><span class="p">(</span><span class="n">objs</span><span class="p">)))</span><span class="w">
  </span><span class="n">quantile</span><span class="p">(</span><span class="n">boots</span><span class="p">,</span><span class="w"> </span><span class="n">probs</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nf">c</span><span class="p">(</span><span class="m">.025</span><span class="p">,</span><span class="w"> </span><span class="m">.975</span><span class="p">))</span><span class="w">
</span><span class="p">}</span><span class="w">
</span><span class="c1">#perform the bootstrapping and calculations, return quantils and plot hist</span><span class="w">
</span><span class="n">replicate_medians</span><span class="p">(</span><span class="n">boot_meds</span><span class="p">,</span><span class="n">df</span><span class="p">,</span><span class="w"> </span><span class="n">times</span><span class="o">=</span><span class="m">100</span><span class="p">)</span><span class="w">
</span></code></pre></div></div>
<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>##  2.5% 97.5% 
##     2     5
</code></pre></div></div>

<p>Our resampled 95% CI for the difference in median ages is 2 to 5 years. This means that we can be quite certain that whites tend to be somewhere between 2 to 5 years older than blacks when executed in our population of interest. This supports idea of younger black men being executed. Something about this doesn’t sit well with me.</p>

<p>Could it be because some blacks can’t get the legal help they need to appeal (and drag on the legal battle) and are therefore executed earlier? Perhaps whites can afford to appeal due to better legal help? Or perhaps blacks just tend to commit crimes earlier in life. It’s impossible to guess what the reasons might be.</p>

<p>To verify the validity of this inference, we can statistically test the differences in age using a t-test. Note that this tests the differences in mean age, not the median.</p>

<div class="language-r highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">pairwise.t.test</span><span class="p">(</span><span class="n">df</span><span class="o">$</span><span class="n">Age</span><span class="p">,</span><span class="w"> </span><span class="n">df</span><span class="o">$</span><span class="n">Race</span><span class="p">)</span><span class="w">
</span></code></pre></div></div>
<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>##  Pairwise comparisons using t tests with pooled SD 
## 
## data:  df$Age and df$Race 
## 
##                 Asian Black         Latino        Native American Other
## Black           1.00  -             -             -               -    
## Latino          1.00  1.00          -             -               -    
## Native American 1.00  1.00          0.95          -               -    
## Other           1.00  1.00          1.00          1.00            -    
## White           1.00  0.00000000024 0.00000259610 1.00            1.00 
## 
## P value adjustment method: holm
</code></pre></div></div>

<p>We find indeed a statistically significant difference in age between whites and blacks and whites and Latinos. Why would minorities tend to be younger when executed?</p>

<h1 id="some-states-execute-on-average-much-older-prisoners">Some states execute on average much older prisoners</h1>

<p>We can see that on average, there is a big disparity in average age of execution in states like Texas (39.5) and Florida (46.7). Why? And is this difference statistically significant? Let’s use a t.test() again to find out.</p>

<p>Note here the useful function fct_lump() from the forcats package. This function will easily create 10 groups of the most prevalent factor values and the “lump” the remaining values into an “other” category. It is great for making quick visualizations.</p>

<div class="language-r highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">df</span><span class="w"> </span><span class="o">%&gt;%</span><span class="w">
  </span><span class="n">mutate</span><span class="p">(</span><span class="n">new_state</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">fct_lump</span><span class="p">(</span><span class="n">State</span><span class="p">,</span><span class="w"> </span><span class="n">n</span><span class="o">=</span><span class="m">10</span><span class="p">))</span><span class="o">%&gt;%</span><span class="w">
  </span><span class="n">group_by</span><span class="p">(</span><span class="n">new_state</span><span class="p">)</span><span class="o">%&gt;%</span><span class="w">
  </span><span class="n">mutate</span><span class="p">(</span><span class="n">new_state_ct</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">n</span><span class="p">(),</span><span class="w">
         </span><span class="n">avg_age</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nf">round</span><span class="p">(</span><span class="n">mean</span><span class="p">(</span><span class="n">Age</span><span class="p">),</span><span class="m">1</span><span class="p">),</span><span class="w">
         </span><span class="n">med_age</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nf">round</span><span class="p">(</span><span class="n">median</span><span class="p">(</span><span class="n">Age</span><span class="p">),</span><span class="m">1</span><span class="p">))</span><span class="o">%&gt;%</span><span class="w">
  </span><span class="n">ggplot</span><span class="p">(</span><span class="n">aes</span><span class="p">(</span><span class="n">Age</span><span class="p">,</span><span class="w"> </span><span class="n">fill</span><span class="o">=</span><span class="n">new_state</span><span class="p">))</span><span class="o">+</span><span class="w">
  </span><span class="n">geom_histogram</span><span class="p">(</span><span class="n">bins</span><span class="o">=</span><span class="m">20</span><span class="p">)</span><span class="o">+</span><span class="w">
  </span><span class="n">geom_text</span><span class="p">(</span><span class="n">aes</span><span class="p">(</span><span class="n">x</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">50</span><span class="p">,</span><span class="w"> </span><span class="n">y</span><span class="o">=</span><span class="w"> </span><span class="m">40</span><span class="p">,</span><span class="n">label</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">paste</span><span class="p">(</span><span class="s2">"Total Executions:"</span><span class="p">,</span><span class="n">new_state_ct</span><span class="p">,</span><span class="s1">'\n'</span><span class="p">,</span><span class="s1">'Avg Age:'</span><span class="p">,</span><span class="n">avg_age</span><span class="p">)),</span><span class="w"> </span><span class="n">color</span><span class="o">=</span><span class="s1">'red'</span><span class="p">,</span><span class="w"> </span><span class="n">size</span><span class="o">=</span><span class="m">3</span><span class="p">)</span><span class="o">+</span><span class="w">
  </span><span class="n">geom_vline</span><span class="p">(</span><span class="n">aes</span><span class="p">(</span><span class="n">xintercept</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">med_age</span><span class="p">))</span><span class="o">+</span><span class="w">
  </span><span class="n">facet_wrap</span><span class="p">(</span><span class="o">~</span><span class="w"> </span><span class="n">new_state</span><span class="p">)</span><span class="o">+</span><span class="w">
  </span><span class="n">guides</span><span class="p">(</span><span class="n">fill</span><span class="o">=</span><span class="kc">FALSE</span><span class="p">)</span><span class="o">+</span><span class="w">
  </span><span class="n">theme_minimal</span><span class="p">()</span><span class="w">
</span></code></pre></div></div>

<p><img src="executions_files/figure-markdown_github/unnamed-chunk-7-1.png" alt="" /></p>

<div class="language-r highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">df</span><span class="w"> </span><span class="o">%&gt;%</span><span class="w">
  </span><span class="n">filter</span><span class="p">(</span><span class="n">State</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="s1">'TX'</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">State</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="s1">'FL'</span><span class="p">)</span><span class="o">%&gt;%</span><span class="w">
  </span><span class="n">do</span><span class="p">(</span><span class="n">tidy</span><span class="p">(</span><span class="n">t.test</span><span class="p">(</span><span class="n">.</span><span class="o">$</span><span class="n">Age</span><span class="o">~</span><span class="n">.</span><span class="o">$</span><span class="n">State</span><span class="p">)))</span><span class="w">
</span></code></pre></div></div>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>##   estimate estimate1 estimate2 statistic             p.value parameter
## 1 7.210537  46.67708  39.46655  7.140531 0.00000000006669214  125.3245
##   conf.low conf.high                  method alternative
## 1  5.21206  9.209014 Welch Two Sample t-test   two.sided
</code></pre></div></div>

<p>Indeed the probability that, given our observed difference, the population difference in mean ages is 0 among those executed in Florida and Texas, is less than 1 in 10 billion.</p>

<p>I said earlier that I was particularly interested in the rates of execution for different racial groups. Let’s now look at those data in the top 5 states by volume of executions.</p>

<div class="language-r highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">df</span><span class="w"> </span><span class="o">%&gt;%</span><span class="w">
  </span><span class="n">mutate</span><span class="p">(</span><span class="n">new_state</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">fct_lump</span><span class="p">(</span><span class="n">State</span><span class="p">,</span><span class="w"> </span><span class="n">n</span><span class="o">=</span><span class="m">5</span><span class="p">))</span><span class="o">%&gt;%</span><span class="w">
  </span><span class="n">group_by</span><span class="p">(</span><span class="n">new_state</span><span class="p">)</span><span class="o">%&gt;%</span><span class="w">
  </span><span class="n">mutate</span><span class="p">(</span><span class="n">Race</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">fct_lump</span><span class="p">(</span><span class="n">Race</span><span class="p">,</span><span class="w"> </span><span class="n">n</span><span class="o">=</span><span class="m">2</span><span class="p">))</span><span class="o">%&gt;%</span><span class="w">
  </span><span class="n">count</span><span class="p">(</span><span class="n">Race</span><span class="p">)</span><span class="o">%&gt;%</span><span class="w">
  </span><span class="n">ggplot</span><span class="p">(</span><span class="n">aes</span><span class="p">(</span><span class="n">reorder</span><span class="p">(</span><span class="n">Race</span><span class="p">,</span><span class="n">n</span><span class="p">),</span><span class="n">n</span><span class="p">,</span><span class="w"> </span><span class="n">fill</span><span class="o">=</span><span class="n">Race</span><span class="p">))</span><span class="o">+</span><span class="w">
  </span><span class="n">geom_col</span><span class="p">()</span><span class="o">+</span><span class="w">
  </span><span class="n">coord_flip</span><span class="p">()</span><span class="o">+</span><span class="w">
  </span><span class="n">facet_wrap</span><span class="p">(</span><span class="o">~</span><span class="w"> </span><span class="n">new_state</span><span class="p">)</span><span class="o">+</span><span class="w">
  </span><span class="n">theme_minimal</span><span class="p">()</span><span class="w"> </span><span class="o">+</span><span class="w"> 
  </span><span class="n">theme</span><span class="p">(</span><span class="n">axis.text.x</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">element_text</span><span class="p">(</span><span class="n">angle</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">45</span><span class="p">))</span><span class="o">+</span><span class="w">
  </span><span class="n">labs</span><span class="p">(</span><span class="n">y</span><span class="o">=</span><span class="s1">'Count of executions'</span><span class="p">,</span><span class="w"> </span><span class="n">x</span><span class="o">=</span><span class="s1">'Race of executed'</span><span class="p">,</span><span class="w"> </span><span class="n">title</span><span class="o">=</span><span class="s1">'Racial Breakdown of top 5 States'</span><span class="p">)</span><span class="w">
</span></code></pre></div></div>

<p><img src="executions_files/figure-markdown_github/unnamed-chunk-9-1.png" alt="" /></p>

<p>We see a pretty even distribution of white and black executions. Texas has a relatively large Latino population that is represented as “other.”</p>

<h1 id="which-places-use-unusual-execution-methods">Which places use unusual execution methods?</h1>

<div class="language-r highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">df</span><span class="w"> </span><span class="o">%&gt;%</span><span class="w">
  </span><span class="n">filter</span><span class="p">(</span><span class="n">Method</span><span class="w"> </span><span class="o">%in%</span><span class="w"> </span><span class="nf">c</span><span class="p">(</span><span class="s1">'Gas Chamber'</span><span class="p">,</span><span class="w"> </span><span class="s1">'Hanging'</span><span class="p">,</span><span class="w"> </span><span class="s1">'Firing Squad'</span><span class="p">))</span><span class="o">%&gt;%</span><span class="w">
  </span><span class="n">count</span><span class="p">(</span><span class="n">State</span><span class="p">,</span><span class="w"> </span><span class="n">Method</span><span class="p">)</span><span class="o">%&gt;%</span><span class="w">
  </span><span class="n">ggplot</span><span class="p">(</span><span class="n">aes</span><span class="p">(</span><span class="n">Method</span><span class="p">,</span><span class="n">n</span><span class="p">,</span><span class="w"> </span><span class="n">fill</span><span class="o">=</span><span class="n">Method</span><span class="p">))</span><span class="o">+</span><span class="w">
  </span><span class="n">geom_col</span><span class="p">()</span><span class="o">+</span><span class="w">
  </span><span class="n">coord_flip</span><span class="p">()</span><span class="o">+</span><span class="w">
  </span><span class="n">facet_wrap</span><span class="p">(</span><span class="o">~</span><span class="w"> </span><span class="n">State</span><span class="p">)</span><span class="o">+</span><span class="w">
  </span><span class="n">labs</span><span class="p">(</span><span class="n">y</span><span class="o">=</span><span class="s1">'Count of executions'</span><span class="p">,</span><span class="w"> </span><span class="n">x</span><span class="o">=</span><span class="s1">'Method'</span><span class="p">,</span><span class="w"> </span><span class="n">title</span><span class="o">=</span><span class="s1">'States with Unusual Execution Methods'</span><span class="p">)</span><span class="w">
</span></code></pre></div></div>

<p><img src="executions_files/figure-markdown_github/unnamed-chunk-10-1.png" alt="" /></p>

<p>Looks like mostly Missouri, but Utah uses firing squads, and Delaware and Washington had a hanging.</p>

<h1 id="you-can-probably-guess-which-region-has-the-most-executions">You can probably guess which region has the most executions</h1>

<p>Among states in the North, South, West, and East, which region executes the most criminals? 
The South definitely kills more and prefers lethal injection with the occasional electric chair. The North has almost 0 killings. Interestingly, when the West does execute, they use sometimes use unconventional methods, such as the firing squad, hanging, or the gas chamber.</p>

<div class="language-r highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">df</span><span class="w"> </span><span class="o">%&gt;%</span><span class="w">
  </span><span class="n">count</span><span class="p">(</span><span class="n">Region</span><span class="p">,</span><span class="w"> </span><span class="n">Method</span><span class="p">)</span><span class="o">%&gt;%</span><span class="w">
  </span><span class="n">ggplot</span><span class="p">(</span><span class="n">aes</span><span class="p">(</span><span class="n">reorder</span><span class="p">(</span><span class="n">Region</span><span class="p">,</span><span class="w"> </span><span class="n">n</span><span class="p">),</span><span class="n">n</span><span class="p">,</span><span class="w"> </span><span class="n">fill</span><span class="o">=</span><span class="n">Method</span><span class="p">))</span><span class="o">+</span><span class="w">
  </span><span class="n">geom_col</span><span class="p">(</span><span class="n">position</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">'dodge'</span><span class="p">,</span><span class="w"> </span><span class="n">width</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">.5</span><span class="p">)</span><span class="o">+</span><span class="w">
  </span><span class="n">theme_minimal</span><span class="p">()</span><span class="o">+</span><span class="w">
  </span><span class="n">labs</span><span class="p">(</span><span class="n">y</span><span class="o">=</span><span class="s1">'Count of executions'</span><span class="p">,</span><span class="w"> </span><span class="n">x</span><span class="o">=</span><span class="s1">'Region of USA'</span><span class="p">,</span><span class="w"> </span><span class="n">title</span><span class="o">=</span><span class="s1">'Which Regions Execute Most?'</span><span class="p">)</span><span class="w">
</span></code></pre></div></div>

<p><img src="executions_files/figure-markdown_github/unnamed-chunk-11-1.png" alt="" /></p>

<h1 id="which-counties-execute-the-most">Which counties execute the most?</h1>

<p>We’ll use a treemap to visualize where most of the executions are taking place.</p>

<div class="language-r highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">df</span><span class="w"> </span><span class="o">%&gt;%</span><span class="w">
  </span><span class="n">ungroup</span><span class="p">()</span><span class="o">%&gt;%</span><span class="w">
  </span><span class="n">unite</span><span class="p">(</span><span class="n">county</span><span class="p">,</span><span class="w"> </span><span class="s1">'County'</span><span class="p">,</span><span class="w"> </span><span class="s1">'State'</span><span class="p">,</span><span class="w"> </span><span class="n">sep</span><span class="o">=</span><span class="s1">'\n'</span><span class="p">)</span><span class="o">%&gt;%</span><span class="w">
  </span><span class="n">count</span><span class="p">(</span><span class="n">Region</span><span class="p">,</span><span class="w"> </span><span class="n">county</span><span class="p">,</span><span class="n">sort</span><span class="o">=</span><span class="nb">T</span><span class="p">)</span><span class="o">%&gt;%</span><span class="w">
</span><span class="n">treemap</span><span class="p">(</span><span class="n">index</span><span class="o">=</span><span class="s2">"county"</span><span class="p">,</span><span class="w">
            </span><span class="n">vSize</span><span class="o">=</span><span class="s2">"n"</span><span class="p">,</span><span class="w">
            </span><span class="n">vColor</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"Region"</span><span class="p">,</span><span class="w">
            </span><span class="n">palette</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">'Set1'</span><span class="p">,</span><span class="w">
            </span><span class="n">type</span><span class="o">=</span><span class="s2">"categorical"</span><span class="p">,</span><span class="w">
            </span><span class="n">fontsize.labels</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">8</span><span class="p">,</span><span class="w">
            </span><span class="n">title</span><span class="o">=</span><span class="w"> </span><span class="s1">'Counties with Most Executions'</span><span class="w">
            </span><span class="p">)</span><span class="w">
</span></code></pre></div></div>

<p><img src="executions_files/figure-markdown_github/unnamed-chunk-12-1.png" alt="" /></p>

<p>Here again we see the South dominating, mostly because of Texas. Missouri is considered here as the Midwest and represents a large portion of their executions.</p>

<h1 id="who-were-the-most-violent-people-on-death-row">Who were the most violent people on death row?</h1>

<p>In order to count the number of victims we will need to write a regex pattern that collects the digits and sums them.</p>

<div class="language-r highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">person</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">df</span><span class="w"> </span><span class="o">%&gt;%</span><span class="w">
  </span><span class="n">rename</span><span class="p">(</span><span class="s1">'vics'</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Number...Race...Sex.of.Victims</span><span class="p">)</span><span class="o">%&gt;%</span><span class="w">
  </span><span class="n">mutate</span><span class="p">(</span><span class="n">num_vics</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">str_extract_all</span><span class="p">(</span><span class="n">vics</span><span class="p">,</span><span class="w"> </span><span class="s1">'[0-9]+'</span><span class="p">))</span><span class="o">%&gt;%</span><span class="w">
  </span><span class="n">group_by</span><span class="p">(</span><span class="n">Date</span><span class="p">,</span><span class="n">Name</span><span class="p">)</span><span class="o">%&gt;%</span><span class="w">
  </span><span class="n">mutate</span><span class="p">(</span><span class="n">total</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nf">sum</span><span class="p">(</span><span class="nf">as.integer</span><span class="p">(</span><span class="n">unlist</span><span class="p">(</span><span class="n">num_vics</span><span class="p">))))</span><span class="o">%&gt;%</span><span class="w">
  </span><span class="n">filter</span><span class="p">(</span><span class="n">total</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="m">3</span><span class="p">)</span><span class="o">%&gt;%</span><span class="w">
  </span><span class="n">ggplot</span><span class="p">(</span><span class="n">aes</span><span class="p">(</span><span class="n">reorder</span><span class="p">(</span><span class="n">Name</span><span class="p">,</span><span class="w"> </span><span class="n">total</span><span class="p">),</span><span class="n">total</span><span class="p">,</span><span class="w"> </span><span class="n">fill</span><span class="o">=</span><span class="n">Race</span><span class="p">))</span><span class="o">+</span><span class="w">
  </span><span class="n">geom_col</span><span class="p">()</span><span class="o">+</span><span class="w">
  </span><span class="n">coord_flip</span><span class="p">()</span><span class="o">+</span><span class="w">
  </span><span class="n">geom_text</span><span class="p">(</span><span class="n">aes</span><span class="p">(</span><span class="n">label</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Method</span><span class="p">),</span><span class="w"> </span><span class="n">hjust</span><span class="o">=</span><span class="m">-.05</span><span class="p">,</span><span class="w"> </span><span class="n">size</span><span class="o">=</span><span class="m">2</span><span class="p">)</span><span class="w"> </span><span class="o">+</span><span class="w"> 
  </span><span class="n">theme_minimal</span><span class="p">()</span><span class="o">+</span><span class="w">
  </span><span class="n">labs</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="s1">'Person'</span><span class="p">,</span><span class="w"> </span><span class="n">y</span><span class="o">=</span><span class="s1">'# killed'</span><span class="p">)</span><span class="o">+</span><span class="w">
  </span><span class="n">theme</span><span class="p">(</span><span class="n">plot.subtitle</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">element_text</span><span class="p">(</span><span class="n">vjust</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">1</span><span class="p">),</span><span class="w"> 
    </span><span class="n">plot.caption</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">element_text</span><span class="p">(</span><span class="n">vjust</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">1</span><span class="p">),</span><span class="w"> 
    </span><span class="n">axis.text.y</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">element_text</span><span class="p">(</span><span class="n">size</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">5</span><span class="p">))</span><span class="w">
  
</span><span class="n">pers_no_tim</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">df</span><span class="w"> </span><span class="o">%&gt;%</span><span class="w">
  </span><span class="n">rename</span><span class="p">(</span><span class="s1">'vics'</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Number...Race...Sex.of.Victims</span><span class="p">)</span><span class="o">%&gt;%</span><span class="w">
  </span><span class="n">mutate</span><span class="p">(</span><span class="n">num_vics</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">str_extract_all</span><span class="p">(</span><span class="n">vics</span><span class="p">,</span><span class="w"> </span><span class="s1">'[0-9]+'</span><span class="p">))</span><span class="o">%&gt;%</span><span class="w">
  </span><span class="n">group_by</span><span class="p">(</span><span class="n">Date</span><span class="p">,</span><span class="n">Name</span><span class="p">)</span><span class="o">%&gt;%</span><span class="w">
  </span><span class="n">mutate</span><span class="p">(</span><span class="n">total</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nf">sum</span><span class="p">(</span><span class="nf">as.integer</span><span class="p">(</span><span class="n">unlist</span><span class="p">(</span><span class="n">num_vics</span><span class="p">))))</span><span class="o">%&gt;%</span><span class="w">
  </span><span class="n">filter</span><span class="p">(</span><span class="n">total</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="m">3</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="n">Name</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="s1">'Timothy McVeigh*'</span><span class="p">)</span><span class="o">%&gt;%</span><span class="w">
  </span><span class="n">ggplot</span><span class="p">(</span><span class="n">aes</span><span class="p">(</span><span class="n">reorder</span><span class="p">(</span><span class="n">Name</span><span class="p">,</span><span class="w"> </span><span class="n">total</span><span class="p">),</span><span class="n">total</span><span class="p">,</span><span class="w"> </span><span class="n">fill</span><span class="o">=</span><span class="n">Race</span><span class="p">))</span><span class="o">+</span><span class="w">
  </span><span class="n">geom_col</span><span class="p">()</span><span class="o">+</span><span class="w">
  </span><span class="n">coord_flip</span><span class="p">()</span><span class="o">+</span><span class="w">
  </span><span class="n">geom_text</span><span class="p">(</span><span class="n">aes</span><span class="p">(</span><span class="n">label</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Method</span><span class="p">),</span><span class="w"> </span><span class="n">hjust</span><span class="o">=</span><span class="m">-.05</span><span class="p">,</span><span class="w"> </span><span class="n">size</span><span class="o">=</span><span class="m">2</span><span class="p">)</span><span class="w"> </span><span class="o">+</span><span class="w"> 
  </span><span class="n">theme_minimal</span><span class="p">()</span><span class="o">+</span><span class="w">
  </span><span class="n">labs</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="s1">'Person'</span><span class="p">,</span><span class="w"> </span><span class="n">y</span><span class="o">=</span><span class="s1">'# killed'</span><span class="p">,</span><span class="w"> </span><span class="n">title</span><span class="o">=</span><span class="s1">'Without Tim McVeigh'</span><span class="p">)</span><span class="o">+</span><span class="w">
  </span><span class="n">theme</span><span class="p">(</span><span class="n">plot.subtitle</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">element_text</span><span class="p">(</span><span class="n">vjust</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">1</span><span class="p">),</span><span class="w"> 
    </span><span class="n">plot.caption</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">element_text</span><span class="p">(</span><span class="n">vjust</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">1</span><span class="p">),</span><span class="w"> 
    </span><span class="n">axis.text.y</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">element_text</span><span class="p">(</span><span class="n">size</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">5</span><span class="p">))</span><span class="w">

</span><span class="n">grid.arrange</span><span class="p">(</span><span class="n">arrangeGrob</span><span class="p">(</span><span class="n">person</span><span class="p">,</span><span class="w"> </span><span class="n">pers_no_tim</span><span class="p">,</span><span class="w"> </span><span class="n">ncol</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">2</span><span class="p">,</span><span class="w"> </span><span class="n">nrow</span><span class="o">=</span><span class="m">1</span><span class="p">))</span><span class="w">
</span></code></pre></div></div>

<p><img src="executions_files/figure-markdown_github/unnamed-chunk-13-1.png" alt="" /></p>

<p>If you’re not faint-hearted, you should read the Wikipedia page about Ronald Simmons.
<a href="https://en.wikipedia.org/wiki/Ronald_Gene_Simmons">https://en.wikipedia.org/wiki/Ronald_Gene_Simmons</a></p>

<h2 id="volunteering-for-execution">Volunteering for execution</h2>

<p>Prior to this analysis, I did not know that it is fairly common for inmates to volunteer to be executed. Essentially these people give up the appeals process and ask the state to kill them as quickly as is possible. From the chart below, you can see that on average about 13% of death row inmates forgo their rights to appeal their execution.</p>

<h1 id="do-rates-of-volunteerism-differ-by-race">Do rates of volunteerism differ by race?</h1>

<p>There are a few ways we can try to answer this question. Probably the best way is by using the pairwise.prop.test() which gives us p-values and the specific pairs of groups which are being compared. Remember that the null hypothesis is that the rates of execution volunteerism are the same across all racial groups. We want to test this hypothesis given the observed rates in our sample.</p>

<p>To start, you can see that whites have a relatively high rate of volunteerism, while blacks have a disproportinately low rate of volunteerism.</p>

<div class="language-r highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">df</span><span class="w"> </span><span class="o">%&gt;%</span><span class="w">
  </span><span class="n">count</span><span class="p">(</span><span class="n">Race</span><span class="p">,</span><span class="w"> </span><span class="n">Volunteer</span><span class="p">,</span><span class="w"> </span><span class="n">sort</span><span class="o">=</span><span class="nb">T</span><span class="p">)</span><span class="o">%&gt;%</span><span class="w">
  </span><span class="n">ungroup</span><span class="p">()</span><span class="o">%&gt;%</span><span class="w">
  </span><span class="n">group_by</span><span class="p">(</span><span class="n">Race</span><span class="p">)</span><span class="o">%&gt;%</span><span class="w">
  </span><span class="n">mutate</span><span class="p">(</span><span class="n">perc_volunteer</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">n</span><span class="o">/</span><span class="nf">sum</span><span class="p">(</span><span class="n">n</span><span class="p">))</span><span class="o">%&gt;%</span><span class="w">
  </span><span class="n">ggplot</span><span class="p">(</span><span class="n">aes</span><span class="p">(</span><span class="n">Volunteer</span><span class="p">,</span><span class="w"> </span><span class="n">perc_volunteer</span><span class="p">,</span><span class="w"> </span><span class="n">fill</span><span class="o">=</span><span class="n">Race</span><span class="p">))</span><span class="o">+</span><span class="w">
  </span><span class="n">geom_col</span><span class="p">(</span><span class="n">position</span><span class="o">=</span><span class="s1">'dodge'</span><span class="p">)</span><span class="o">+</span><span class="w">
  </span><span class="n">theme_minimal</span><span class="p">()</span><span class="w">
</span></code></pre></div></div>

<p><img src="executions_files/figure-markdown_github/unnamed-chunk-14-1.png" alt="" /></p>

<p>Why would this difference exist? My best guess is that some of the black inmates are unjustly on death row: they didn’t commit the crime, so of course they wouldn’t want to die. This is essentially what happened in documentary, “Fourteen Days in May,” which I highly recommend. Especially if you support the death penalty.</p>

<p>The prop.test() function is kind of funky in that it requires a table object in a certain format. We transpose it to make it ‘long.’ But the prop.test() does not tell us which groups are different, only that there is a difference among the groups.</p>

<p>We recieve the warning because the cell counts are too low (&lt; 5) for some racial groups such as Native American.</p>

<div class="language-r highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">yes_tab</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">t</span><span class="p">(</span><span class="n">table</span><span class="p">(</span><span class="n">df</span><span class="o">$</span><span class="n">Volunteer</span><span class="p">,</span><span class="w"> </span><span class="n">df</span><span class="o">$</span><span class="n">Race</span><span class="p">))[,</span><span class="nf">c</span><span class="p">(</span><span class="s1">'Yes'</span><span class="p">,</span><span class="w"> </span><span class="s1">'No'</span><span class="p">)]</span><span class="w">
</span><span class="n">prop.test</span><span class="p">(</span><span class="n">yes_tab</span><span class="p">)</span><span class="w">
</span></code></pre></div></div>
<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>## Warning in prop.test(yes_tab): Chi-squared approximation may be incorrect
## 
##  6-sample test for equality of proportions without continuity
##  correction
## 
## data:  yes_tab
## X-squared = 66.806, df = 5, p-value = 0.0000000000004728
## alternative hypothesis: two.sided
## sample estimates:
##     prop 1     prop 2     prop 3     prop 4     prop 5     prop 6 
## 0.14285714 0.01377953 0.09677419 0.12500000 0.00000000 0.15085158
</code></pre></div></div>

<p>We can see here the big disparity between blacks and whites: whites volunteer around 15% of the time (prop 6), while blacks only volunteer around 1.3% of the time (prop 2).</p>

<p>We can deal with this issue of not a big enough sample by using Monte Carlo simulation to get more accurate p-values for these groups with small cell counts. Now the error goes away and we see again there is a difference in proportion.</p>

<div class="language-r highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">#this only tells us there's a difference</span><span class="w">
</span><span class="n">chisq.test</span><span class="p">(</span><span class="n">t</span><span class="p">(</span><span class="n">table</span><span class="p">(</span><span class="n">df</span><span class="o">$</span><span class="n">Volunteer</span><span class="p">,</span><span class="w"> </span><span class="n">df</span><span class="o">$</span><span class="n">Race</span><span class="p">)),</span><span class="w"> </span><span class="n">simulate.p.value</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kc">TRUE</span><span class="p">)</span><span class="w">
</span></code></pre></div></div>
<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>## 
##  Pearson's Chi-squared test with simulated p-value (based on 2000
##  replicates)
## 
## data:  t(table(df$Volunteer, df$Race))
## X-squared = 66.806, df = NA, p-value = 0.0004998
</code></pre></div></div>

<p>Finally, let’s find out which groups differ most significantly. The Holm method is one way this test makes up for the problem of multiple comparisons. This method also generates a warning, FYI.</p>

<div class="language-r highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">pairwise.prop.test</span><span class="p">(</span><span class="n">t</span><span class="p">(</span><span class="n">table</span><span class="p">(</span><span class="n">df</span><span class="o">$</span><span class="n">Volunteer</span><span class="p">,</span><span class="w"> </span><span class="n">df</span><span class="o">$</span><span class="n">Race</span><span class="p">)))</span><span class="w">
</span></code></pre></div></div>
<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>## 
##  Pairwise comparisons using Pairwise comparison of proportions 
## 
## data:  t(table(df$Volunteer, df$Race)) 
## 
##                 Asian Black             Latino Native American Other
## Black           1.00  -                 -      -               -    
## Latino          1.00  0.000071965624434 -      -               -    
## Native American 1.00  0.22              1.00   -               -    
## Other           1.00  1.00              1.00   1.00            -    
## White           1.00  0.000000000000012 1.00   1.00            1.00 
## 
## P value adjustment method: holm
</code></pre></div></div>

<p>The extremely small p-values here tell us that blacks and whites and blacks and latinos have very different rates of volunteerism. I’ll leave it up to someone more knowledgeable to figure out why this is so.</p>

<h1 id="executions-per-capita">Executions per Capita</h1>

<p>We already know that there are lots of executions in the South and that Texas executes the most of any state, but perhaps a fairer comparison is to look at executions per state resident. This will equalize small and large states.</p>

<p>We will again use the Rvest package to download population data. Here I took the 2000 census numbers because I thought it was a reasonable midpoint for these data that span from 1977-2018.</p>

<p>In the interest of space, I’m going to leave out the nitty gritty wrangling and focus on the results.</p>

<p>With the wrangling done, we can now plot a map of executions per 100,000 residents 2000. If you’re doing any kind of geographical plotting on US maps, I suggest using the fiftystater package, which contains dataframes with latitude and longitudes and state abbreviations. You just need to make sure that your dataframe with the data you want to plot uses the EXACT same spelling/format of states as the fiftystater package.</p>

<div class="language-r highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">ggplot</span><span class="p">(</span><span class="n">df_plot_cap</span><span class="p">,</span><span class="w"> </span><span class="n">aes</span><span class="p">(</span><span class="n">map_id</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">State.y</span><span class="p">))</span><span class="w"> </span><span class="o">+</span><span class="w"> 
  </span><span class="n">geom_map</span><span class="p">(</span><span class="n">aes</span><span class="p">(</span><span class="n">fill</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">per_100k</span><span class="p">),</span><span class="w"> </span><span class="n">map</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">fifty_states</span><span class="p">)</span><span class="o">+</span><span class="w">
  </span><span class="n">expand_limits</span><span class="p">(</span><span class="n">x</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">fifty_states</span><span class="o">$</span><span class="n">long</span><span class="p">,</span><span class="w"> </span><span class="n">y</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">fifty_states</span><span class="o">$</span><span class="n">lat</span><span class="p">)</span><span class="w"> </span><span class="o">+</span><span class="w">
  </span><span class="n">coord_map</span><span class="p">()</span><span class="w"> </span><span class="o">+</span><span class="w">
  </span><span class="n">scale_x_continuous</span><span class="p">(</span><span class="n">breaks</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kc">NULL</span><span class="p">)</span><span class="w"> </span><span class="o">+</span><span class="w"> 
  </span><span class="n">scale_y_continuous</span><span class="p">(</span><span class="n">breaks</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kc">NULL</span><span class="p">)</span><span class="w"> </span><span class="o">+</span><span class="w">
  </span><span class="n">scale_fill_viridis_c</span><span class="p">()</span><span class="o">+</span><span class="w">
  </span><span class="n">labs</span><span class="p">(</span><span class="n">x</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w"> </span><span class="n">y</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w"> </span><span class="n">title</span><span class="o">=</span><span class="s1">'Executions per 100,000 Residents since 1977'</span><span class="p">,</span><span class="w">
       </span><span class="n">subtitle</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"States with 0 executions in grey"</span><span class="p">,</span><span class="w"> </span><span class="n">fill</span><span class="o">=</span><span class="s1">'# Executions'</span><span class="p">)</span><span class="w"> </span><span class="o">+</span><span class="w"> 
  </span><span class="n">theme</span><span class="p">(</span><span class="n">panel.background</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">element_rect</span><span class="p">(</span><span class="n">fill</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kc">NA</span><span class="p">))</span><span class="w"> </span><span class="o">+</span><span class="w"> 
  </span><span class="n">theme</span><span class="p">(</span><span class="n">plot.subtitle</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">element_text</span><span class="p">(</span><span class="n">hjust</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">0.5</span><span class="p">,</span><span class="w"> 
    </span><span class="n">vjust</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">1</span><span class="p">),</span><span class="w"> </span><span class="n">plot.caption</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">element_text</span><span class="p">(</span><span class="n">vjust</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">1</span><span class="p">),</span><span class="w"> 
    </span><span class="n">plot.title</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">element_text</span><span class="p">(</span><span class="n">hjust</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">0.5</span><span class="p">))</span><span class="w">
</span></code></pre></div></div>

<p><img src="executions_files/figure-markdown_github/unnamed-chunk-19-1.png" alt="" /></p>

<h1 id="geographic-map-of-the-worst-killers">Geographic map of the worst killers</h1>

<p>To finish, let’s make a visualization that shows where in the USA the most violent murderers were killed.</p>

<div class="language-r highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">#create new col of total killed</span><span class="w">
</span><span class="n">df</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">df</span><span class="w"> </span><span class="o">%&gt;%</span><span class="w">
  </span><span class="n">rename</span><span class="p">(</span><span class="s1">'vics'</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Number...Race...Sex.of.Victims</span><span class="p">)</span><span class="o">%&gt;%</span><span class="w">
  </span><span class="n">mutate</span><span class="p">(</span><span class="n">num_vics</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">str_extract_all</span><span class="p">(</span><span class="n">vics</span><span class="p">,</span><span class="w"> </span><span class="s1">'[0-9]+'</span><span class="p">))</span><span class="o">%&gt;%</span><span class="w">
  </span><span class="n">group_by</span><span class="p">(</span><span class="n">Date</span><span class="p">,</span><span class="n">Name</span><span class="p">)</span><span class="o">%&gt;%</span><span class="w">
  </span><span class="n">mutate</span><span class="p">(</span><span class="n">total</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nf">sum</span><span class="p">(</span><span class="nf">as.integer</span><span class="p">(</span><span class="n">unlist</span><span class="p">(</span><span class="n">num_vics</span><span class="p">))))</span><span class="w">

</span><span class="n">df_murd</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">df</span><span class="w"> </span><span class="o">%&gt;%</span><span class="w">
  </span><span class="n">select</span><span class="p">(</span><span class="n">Date</span><span class="p">,</span><span class="w"> </span><span class="n">Name</span><span class="p">,</span><span class="w"> </span><span class="n">State</span><span class="p">,</span><span class="w"> </span><span class="n">total</span><span class="w"> </span><span class="p">)</span><span class="o">%&gt;%</span><span class="w">
  </span><span class="n">right_join</span><span class="p">(</span><span class="n">df_plot_cap</span><span class="p">,</span><span class="w"> </span><span class="n">by</span><span class="o">=</span><span class="s1">'State'</span><span class="p">)</span><span class="w">

</span><span class="c1">#need to go in and average the lat long coords</span><span class="w">
</span><span class="n">fif</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">fifty_states</span><span class="w"> </span><span class="o">%&gt;%</span><span class="w">
  </span><span class="n">group_by</span><span class="p">(</span><span class="n">id</span><span class="p">)</span><span class="o">%&gt;%</span><span class="w">
  </span><span class="n">summarize</span><span class="p">(</span><span class="n">long</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">mean</span><span class="p">(</span><span class="n">long</span><span class="p">),</span><span class="w">
            </span><span class="n">lat</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">mean</span><span class="p">(</span><span class="n">lat</span><span class="p">))</span><span class="o">%&gt;%</span><span class="w">
  </span><span class="n">left_join</span><span class="p">(</span><span class="n">df_murd</span><span class="p">,</span><span class="w"> </span><span class="n">by</span><span class="o">=</span><span class="nf">c</span><span class="p">(</span><span class="s1">'id'</span><span class="o">=</span><span class="s1">'State'</span><span class="p">))</span><span class="o">%&gt;%</span><span class="w">
  </span><span class="n">select</span><span class="p">(</span><span class="m">1</span><span class="o">:</span><span class="m">3</span><span class="p">)</span><span class="w">

</span><span class="c1">#we had to get our text to match that from fifty_states dataframe</span><span class="w">
</span><span class="n">df_murd</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">df_murd</span><span class="w"> </span><span class="o">%&gt;%</span><span class="w">
  </span><span class="n">left_join</span><span class="p">(</span><span class="n">fif</span><span class="p">,</span><span class="w"> </span><span class="n">by</span><span class="o">=</span><span class="s1">'id'</span><span class="p">)</span><span class="w">

</span><span class="n">df_murd</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">df_murd</span><span class="w"> </span><span class="o">%&gt;%</span><span class="w">
  </span><span class="n">left_join</span><span class="p">(</span><span class="n">df</span><span class="p">[,</span><span class="nf">c</span><span class="p">(</span><span class="s1">'Race'</span><span class="p">,</span><span class="w"> </span><span class="s1">'State'</span><span class="p">,</span><span class="w"> </span><span class="s1">'Name'</span><span class="p">)],</span><span class="w"> </span><span class="n">by</span><span class="o">=</span><span class="w"> </span><span class="nf">c</span><span class="p">(</span><span class="s1">'State'</span><span class="p">,</span><span class="w"> </span><span class="s1">'Name'</span><span class="p">))</span><span class="w">
</span></code></pre></div></div>

<p>Note that Tim McVeigh was actually responsible for 168 deaths, but he was federally executed, which has only happened three times since 1977. I did not include federal executions.</p>

<p>Also, in order to keep the visuals under control, we had to subset to those who had killed 3 or more people.</p>

<div class="language-r highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="w">  </span><span class="n">ggplot</span><span class="p">(</span><span class="n">df_murd</span><span class="p">,</span><span class="w"> </span><span class="n">aes</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="n">long</span><span class="p">,</span><span class="w">
                      </span><span class="n">y</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">lat</span><span class="p">,</span><span class="w">
                      </span><span class="n">map_id</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">State.y</span><span class="p">))</span><span class="w"> </span><span class="o">+</span><span class="w"> 
  </span><span class="n">geom_map</span><span class="p">(</span><span class="n">color</span><span class="o">=</span><span class="s1">'grey'</span><span class="p">,</span><span class="w"> </span><span class="n">fill</span><span class="o">=</span><span class="s1">'white'</span><span class="p">,</span><span class="n">map</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">fifty_states</span><span class="p">)</span><span class="o">+</span><span class="w">
  </span><span class="n">geom_point</span><span class="p">(</span><span class="n">aes</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="n">long</span><span class="p">,</span><span class="w"> </span><span class="n">y</span><span class="o">=</span><span class="n">lat</span><span class="p">,</span><span class="w"> </span><span class="n">color</span><span class="o">=</span><span class="n">Race</span><span class="p">),</span><span class="w"> </span><span class="n">data</span><span class="o">=</span><span class="w"> </span><span class="n">subset</span><span class="p">(</span><span class="n">df_murd</span><span class="p">,</span><span class="w"> </span><span class="n">total</span><span class="w"> </span><span class="o">&gt;</span><span class="m">3</span><span class="p">))</span><span class="o">+</span><span class="w">
  </span><span class="n">geom_text_repel</span><span class="p">(</span><span class="n">aes</span><span class="p">(</span><span class="n">label</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Name</span><span class="p">,</span><span class="w"> </span><span class="n">size</span><span class="o">=</span><span class="nf">sqrt</span><span class="p">(</span><span class="n">total</span><span class="p">),</span><span class="w"> </span><span class="n">color</span><span class="o">=</span><span class="n">Race</span><span class="p">),</span><span class="w">
                  </span><span class="n">show.legend</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">F</span><span class="p">,</span><span class="w">
                  </span><span class="n">segment.alpha</span><span class="o">=</span><span class="w"> </span><span class="m">.5</span><span class="p">,</span><span class="w"> </span><span class="n">segment.color</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">'black'</span><span class="p">,</span><span class="w"> </span><span class="n">force</span><span class="o">=</span><span class="m">10</span><span class="p">,</span><span class="w"> </span><span class="n">data</span><span class="o">=</span><span class="w"> </span><span class="n">subset</span><span class="p">(</span><span class="n">df_murd</span><span class="p">,</span><span class="w"> </span><span class="n">total</span><span class="w"> </span><span class="o">&gt;</span><span class="m">3</span><span class="p">))</span><span class="o">+</span><span class="w">
  </span><span class="n">expand_limits</span><span class="p">(</span><span class="n">x</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">fifty_states</span><span class="o">$</span><span class="n">long</span><span class="p">,</span><span class="w"> </span><span class="n">y</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">fifty_states</span><span class="o">$</span><span class="n">lat</span><span class="p">)</span><span class="w"> </span><span class="o">+</span><span class="w">
  </span><span class="n">coord_map</span><span class="p">()</span><span class="w"> </span><span class="o">+</span><span class="w">
  </span><span class="n">scale_size_identity</span><span class="p">()</span><span class="o">+</span><span class="w">
  </span><span class="n">scale_x_continuous</span><span class="p">(</span><span class="n">breaks</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kc">NULL</span><span class="p">)</span><span class="w"> </span><span class="o">+</span><span class="w"> 
  </span><span class="n">scale_y_continuous</span><span class="p">(</span><span class="n">breaks</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kc">NULL</span><span class="p">)</span><span class="w"> </span><span class="o">+</span><span class="w">
  </span><span class="n">scale_color_brewer</span><span class="p">(</span><span class="n">type</span><span class="o">=</span><span class="s1">'qual'</span><span class="p">,</span><span class="w"> </span><span class="n">palette</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">6</span><span class="p">)</span><span class="o">+</span><span class="w">
  </span><span class="n">labs</span><span class="p">(</span><span class="n">x</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w"> </span><span class="n">y</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w"> </span><span class="n">title</span><span class="o">=</span><span class="s1">'State Executed Inmates Since 1977'</span><span class="p">,</span><span class="w">
       </span><span class="n">subtitle</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"Size proportional to people killed"</span><span class="p">,</span><span class="w"> </span><span class="n">size</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">'Race'</span><span class="p">)</span><span class="w"> </span><span class="o">+</span><span class="w"> 
  </span><span class="n">theme</span><span class="p">(</span><span class="n">panel.background</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">element_rect</span><span class="p">(</span><span class="n">fill</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kc">NA</span><span class="p">))</span><span class="w"> </span><span class="o">+</span><span class="w"> 
  </span><span class="n">theme</span><span class="p">(</span><span class="n">plot.subtitle</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">element_text</span><span class="p">(</span><span class="n">hjust</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">0.5</span><span class="p">,</span><span class="w"> 
    </span><span class="n">vjust</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">1</span><span class="p">),</span><span class="w"> </span><span class="n">plot.caption</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">element_text</span><span class="p">(</span><span class="n">vjust</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">1</span><span class="p">),</span><span class="w"> 
    </span><span class="n">plot.title</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">element_text</span><span class="p">(</span><span class="n">hjust</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">0.5</span><span class="p">))</span><span class="w">
</span></code></pre></div></div>

<p><img src="executions_files/figure-markdown_github/unnamed-chunk-21-1.png" alt="" /></p>

<p>So there you have it. There don’t seem to be any obvious patterns from the geographic distribution of executions, but at the very least you have a list of psychopaths to read about on Wikipedia. I suggest starting with Manuel Pardo of Florida, who was an ex-cop turned ‘vigilante’ who became obsessed with killing Florida drug dealers.</p>

<h1 id="lingering-questions">Lingering questions</h1>

<ul>
  <li>Why are blacks executed at a younger age than whites?</li>
  <li>Why do whites volunteer for execution so often, relative to blacks? 
Or rather, why is it that black death row inmates almost never volunteer to be killed by the state?</li>
</ul>

<p>In the next blog post, we’ll create a machine learning model that will attempt to predict whether an inmate will volunteer to be executed.</p>

  </div>

  

  <a class="u-url" href="/datasophy/2018/07/25/executions.html" hidden></a>
</article>
      </div>
    </main><footer class="site-footer h-card">
  <data class="u-url" href="/datasophy/"></data>

  <div class="wrapper">

    <h2 class="footer-heading">A Philosopher&#39;s Guide to Data Science</h2>

    <div class="footer-col-wrapper">
      <div class="footer-col footer-col-1">
        <ul class="contact-list">
          <li class="p-name">A Philosopher&#39;s Guide to Data Science</li><li><a class="u-email" href="mailto:greenet09@gmail.com">greenet09@gmail.com</a></li></ul>
      </div>

      <div class="footer-col footer-col-2"><ul class="social-media-list"><li><a href="https://github.com/greenet09"><svg class="svg-icon"><use xlink:href="/datasophy/assets/minima-social-icons.svg#github"></use></svg> <span class="username">greenet09</span></a></li><li><a href="https://www.linkedin.com/in/travis-greene"><svg class="svg-icon"><use xlink:href="/datasophy/assets/minima-social-icons.svg#linkedin"></use></svg> <span class="username">travis-greene</span></a></li></ul>
</div>

      <div class="footer-col footer-col-3">
        <p>Discussions around data science, GDPR, law, philosophy, data ethics, big data, and the occasional little data tutorial</p>
      </div>
    </div>

  </div>

</footer>
<script id="dsq-count-scr" src="//https-greenet09-github-io-datasophy.disqus.com/count.js" async></script>
  </body>

</html>
